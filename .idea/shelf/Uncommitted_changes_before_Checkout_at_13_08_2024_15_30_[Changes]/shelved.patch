Index: rqs-gateway/src/main/java/network/brokerCommunication/client/ConnectionManager.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package network.brokerCommunication.client;\r\nimport network.clientCommunication.model.Gateway;\r\n\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\n\r\npublic  class ConnectionManager implements ConnectionListener {\r\n\r\n    public ConnectionManager() {\r\n    }\r\n\r\n    @Override\r\n    public void onConnectionLost(String clusterID) throws IOException {\r\n\r\n        while (!Gateway.getInstance().isUpdated(clusterID))\r\n            try {\r\n                Socket newSocket = new Socket(Gateway.getInstance().getIp(clusterID), Gateway.getInstance().getPortNumber(clusterID));\r\n                new CommunicationThread(newSocket,\r\n                        this,clusterID).start();\r\n                System.out.println(\"Reconnected.\");\r\n            } catch (IOException e) {\r\n                System.err.println(\"Reconnection failed.\");\r\n            }\r\n    }\r\n    public void startConnection() throws IOException {\r\n        //apro la connessione con tutti i clusters\r\n        for (String clusterId : Gateway.getInstance().getClustersID()\r\n        ) {\r\n            try {\r\n                Socket socket = new Socket(Gateway.getInstance().getIp(clusterId), Gateway.getInstance().getPortNumber(clusterId));\r\n                CommunicationThread communicationThread = new CommunicationThread(socket,this, clusterId);\r\n                communicationThread.start();\r\n                //Gateway.getInstance().addToSocketMap(socket, clusterId);\r\n                System.out.println(clusterId + Gateway.getInstance().getIp(clusterId) + Gateway.getInstance().getPortNumber(clusterId));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n
===================================================================
diff --git a/rqs-gateway/src/main/java/network/brokerCommunication/client/ConnectionManager.java b/rqs-gateway/src/main/java/network/brokerCommunication/client/ConnectionManager.java
--- a/rqs-gateway/src/main/java/network/brokerCommunication/client/ConnectionManager.java	
+++ b/rqs-gateway/src/main/java/network/brokerCommunication/client/ConnectionManager.java	
@@ -3,10 +3,11 @@
 
 import java.io.IOException;
 import java.net.Socket;
+import java.util.concurrent.ExecutorService;
+import java.util.concurrent.Executors;
 
 public  class ConnectionManager implements ConnectionListener {
-
-    public ConnectionManager() {
+    public ConnectionManager() throws IOException {
     }
 
     @Override
